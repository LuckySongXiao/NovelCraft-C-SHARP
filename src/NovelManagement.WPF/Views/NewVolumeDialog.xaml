<Window x:Class="NovelManagement.WPF.Views.NewVolumeDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="新建卷宗" Height="600" Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}">

    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <StackPanel Grid.Row="0" Margin="0,0,0,24">
            <materialDesign:PackIcon Kind="BookPlus" 
                                   Width="48" Height="48" 
                                   HorizontalAlignment="Center"
                                   Foreground="{DynamicResource PrimaryHueMidBrush}"/>
            <TextBlock Text="新建卷宗" 
                     FontSize="24" 
                     FontWeight="Bold" 
                     HorizontalAlignment="Center"
                     Margin="0,8,0,0"/>
            <TextBlock Text="为您的小说创建新的卷宗" 
                     FontSize="14" 
                     Foreground="{DynamicResource MaterialDesignBodyLight}"
                     HorizontalAlignment="Center"
                     Margin="0,4,0,0"/>
        </StackPanel>

        <!-- 表单内容 -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- 卷宗名称 -->
                <TextBox x:Name="VolumeNameTextBox"
                       materialDesign:HintAssist.Hint="卷宗名称"
                       ToolTip="请输入卷宗的名称"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       MaxLength="100"/>

                <!-- 卷宗描述 -->
                <TextBox x:Name="VolumeDescriptionTextBox"
                       materialDesign:HintAssist.Hint="卷宗描述"
                       ToolTip="请输入卷宗的简要描述或剧情概括"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       TextWrapping="Wrap"
                       AcceptsReturn="True"
                       MinHeight="80"
                       MaxHeight="120"
                       VerticalScrollBarVisibility="Auto"
                       Margin="0,0,0,16"
                       MaxLength="500"/>

                <!-- 卷宗类型 -->
                <ComboBox x:Name="VolumeTypeComboBox"
                        materialDesign:HintAssist.Hint="卷宗类型"
                        Style="{StaticResource MaterialDesignOutlinedComboBox}"
                        Margin="0,0,0,16">
                    <ComboBoxItem Content="主线剧情"/>
                    <ComboBoxItem Content="支线剧情"/>
                    <ComboBoxItem Content="番外篇"/>
                    <ComboBoxItem Content="序章"/>
                    <ComboBoxItem Content="终章"/>
                    <ComboBoxItem Content="其他"/>
                </ComboBox>

                <!-- 卷宗顺序 -->
                <TextBox x:Name="VolumeOrderTextBox"
                       materialDesign:HintAssist.Hint="卷宗顺序"
                       ToolTip="请输入卷宗的排序序号（数字）"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       PreviewTextInput="NumberOnly_PreviewTextInput"/>

                <!-- 目标章节数 -->
                <TextBox x:Name="TargetChapterCountTextBox"
                       materialDesign:HintAssist.Hint="目标章节数"
                       ToolTip="请输入本卷预计包含的章节数量"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       PreviewTextInput="NumberOnly_PreviewTextInput"/>

                <!-- 预计字数 -->
                <TextBox x:Name="EstimatedWordCountTextBox"
                       materialDesign:HintAssist.Hint="预计字数"
                       ToolTip="请输入本卷预计的总字数"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       PreviewTextInput="NumberOnly_PreviewTextInput"/>

                <!-- 卷宗主题 -->
                <TextBox x:Name="VolumeThemeTextBox"
                       materialDesign:HintAssist.Hint="卷宗主题"
                       ToolTip="请输入本卷的核心主题或中心思想"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       MaxLength="200"/>

                <!-- 关键角色 -->
                <TextBox x:Name="KeyCharactersTextBox"
                       materialDesign:HintAssist.Hint="关键角色（用逗号分隔）"
                       ToolTip="请输入本卷涉及的关键角色，多个角色请用逗号分隔"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       MaxLength="300"/>

                <!-- 重要事件 -->
                <TextBox x:Name="ImportantEventsTextBox"
                       materialDesign:HintAssist.Hint="重要事件概述"
                       ToolTip="请简要描述本卷将发生的重要事件"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       TextWrapping="Wrap"
                       AcceptsReturn="True"
                       MinHeight="60"
                       MaxHeight="100"
                       VerticalScrollBarVisibility="Auto"
                       Margin="0,0,0,16"
                       MaxLength="500"/>

                <!-- 卷宗状态 -->
                <ComboBox x:Name="VolumeStatusComboBox"
                        materialDesign:HintAssist.Hint="卷宗状态"
                        Style="{StaticResource MaterialDesignOutlinedComboBox}"
                        Margin="0,0,0,16">
                    <ComboBoxItem Content="计划中" IsSelected="True"/>
                    <ComboBoxItem Content="进行中"/>
                    <ComboBoxItem Content="已完成"/>
                    <ComboBoxItem Content="暂停"/>
                    <ComboBoxItem Content="已取消"/>
                </ComboBox>

                <!-- 标签 -->
                <TextBox x:Name="VolumeTagsTextBox"
                       materialDesign:HintAssist.Hint="标签（用逗号分隔）"
                       ToolTip="请输入卷宗标签，用于分类和检索，多个标签请用逗号分隔"
                       Style="{StaticResource MaterialDesignOutlinedTextBox}"
                       Margin="0,0,0,16"
                       MaxLength="200"/>
            </StackPanel>
        </ScrollViewer>

        <!-- 按钮区域 -->
        <StackPanel Grid.Row="2" 
                  Orientation="Horizontal" 
                  HorizontalAlignment="Right" 
                  Margin="0,24,0,0">
            <Button Content="取消" 
                  Style="{StaticResource MaterialDesignOutlinedButton}"
                  Margin="0,0,12,0"
                  Width="80"
                  Click="Cancel_Click"/>
            <Button Content="创建" 
                  Style="{StaticResource MaterialDesignRaisedButton}"
                  Width="80"
                  Click="Create_Click"/>
        </StackPanel>
    </Grid>
</Window>
