<Window x:Class="NovelManagement.WPF.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="小说管理系统 - 仪表盘" Height="900" Width="1400"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="13"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- 标题栏 -->
        <materialDesign:ColorZone Grid.Row="0" 
                                  Mode="PrimaryMid" 
                                  Padding="16">
            <DockPanel>
                <materialDesign:PackIcon Kind="Home"
                                       DockPanel.Dock="Left"
                                       Width="24" Height="24"
                                       VerticalAlignment="Center"
                                       Margin="0,0,16,0"/>
                <TextBlock Text="小说管理系统 - 仪表盘" 
                         FontSize="20" 
                         FontWeight="Medium" 
                         VerticalAlignment="Center"/>
                
                <!-- 右侧工具栏 -->
                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal">
                    <Button Style="{StaticResource MaterialDesignToolButton}"
                            ToolTip="设置">
                        <materialDesign:PackIcon Kind="Settings" Width="20" Height="20"/>
                    </Button>
                    <Button Style="{StaticResource MaterialDesignToolButton}"
                            ToolTip="帮助">
                        <materialDesign:PackIcon Kind="Help" Width="20" Height="20"/>
                    </Button>
                </StackPanel>
            </DockPanel>
        </materialDesign:ColorZone>

        <!-- 主内容区域 -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="300"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- 左侧导航栏 -->
            <materialDesign:ColorZone Grid.Column="0" 
                                      Mode="Light" 
                                      Padding="0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- 项目管理 -->
                        <Expander Header="项目管理" 
                                Style="{StaticResource MaterialDesignExpander}"
                                IsExpanded="True"
                                Margin="8">
                            <StackPanel Margin="16,8,0,8">
                                <Button Content="项目管理"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="ProjectManagement_Click"/>
                                <Button Content="新建项目"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="NewProject_Click"/>
                                <Button Content="导入项目"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="ImportProject_Click"/>

                                <!-- 项目列表 -->
                                <Expander Header="千面劫·宿命轮回" 
                                        Style="{StaticResource MaterialDesignExpander}"
                                        IsExpanded="True"
                                        Margin="0,8,0,0">
                                    <StackPanel Margin="16,8,0,8">
                                        <Button Content="项目概览" 
                                              Style="{StaticResource MaterialDesignFlatButton}" 
                                              HorizontalAlignment="Left"
                                              Click="ProjectOverview_Click"/>
                                        <Button Content="卷宗管理" 
                                              Style="{StaticResource MaterialDesignFlatButton}" 
                                              HorizontalAlignment="Left"
                                              Click="VolumeManagement_Click"/>
                                        <!-- 人物管理子菜单 -->
                                        <Expander Header="人物管理"
                                                Style="{StaticResource MaterialDesignExpander}"
                                                Margin="0,8,0,0">
                                            <StackPanel Margin="16,8,0,8">
                                                <Button Content="角色管理"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="ContentManagement_Click"/>
                                                <Button Content="关系网络"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="RelationshipNetwork_Click"/>
                                            </StackPanel>
                                        </Expander>

                                        <Button Content="势力管理"
                                              Style="{StaticResource MaterialDesignFlatButton}"
                                              HorizontalAlignment="Left"
                                              Click="FactionManagement_Click"/>
                                        <Button Content="剧情管理"
                                              Style="{StaticResource MaterialDesignFlatButton}"
                                              HorizontalAlignment="Left"
                                              Click="PlotManagement_Click"/>

                                        <!-- 设定管理子菜单 -->
                                        <Expander Header="设定管理"
                                                Style="{StaticResource MaterialDesignExpander}"
                                                Margin="0,8,0,0">
                                            <StackPanel Margin="16,8,0,8">
                                                <Button Content="世界设定"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="WorldSettingManagement_Click"/>
                                                <Button Content="修炼体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="CultivationSystem_Click"/>
                                                <Button Content="政治体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="PoliticalSystem_Click"/>
                                                <Button Content="职业体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="ProfessionSystem_Click"/>
                                                <Button Content="司法体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="JudicialSystem_Click"/>
                                                <Button Content="生民体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="PopulationSystem_Click"/>
                                                <Button Content="灵宝体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="TreasureSystem_Click"/>
                                                <Button Content="维度结构"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="DimensionStructure_Click"/>
                                                <Button Content="地图结构"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="MapStructure_Click"/>
                                                <Button Content="宠物体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="PetSystem_Click"/>
                                                <Button Content="装备体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="EquipmentSystem_Click"/>
                                                <Button Content="功法体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="TechniqueSystem_Click"/>
                                                <Button Content="商业体系"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="BusinessSystem_Click"/>
                                                <Button Content="时间线"
                                                      Style="{StaticResource MaterialDesignFlatButton}"
                                                      HorizontalAlignment="Left"
                                                      Click="Timeline_Click"/>
                                            </StackPanel>
                                        </Expander>
                                    </StackPanel>
                                </Expander>
                            </StackPanel>
                        </Expander>

                        <!-- AI助手 -->
                        <Expander Header="AI助手"
                                Style="{StaticResource MaterialDesignExpander}"
                                Margin="8">
                            <StackPanel Margin="16,8,0,8">
                                <Button Content="前置条件生成"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="PrerequisiteGeneration_Click"
                                      ToolTip="为AI编辑功能生成必要的前置数据"/>
                                <Button Content="AI协作创作"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="AICollaboration_Click"/>
                                <Button Content="对话生成器"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="DialogGeneration_Click"/>
                                <Button Content="内容生成"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="ContentGeneration_Click"/>
                                <Button Content="质量检查"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="QualityCheck_Click"/>
                                <Button Content="一致性检查"
                                      Style="{StaticResource MaterialDesignFlatButton}"
                                      HorizontalAlignment="Left"
                                      Click="ConsistencyCheck_Click"/>
                            </StackPanel>
                        </Expander>

                        <!-- 导入导出 -->
                        <Expander Header="导入导出" 
                                Style="{StaticResource MaterialDesignExpander}"
                                Margin="8">
                            <StackPanel Margin="16,8,0,8">
                                <Button Content="导出项目" 
                                      Style="{StaticResource MaterialDesignFlatButton}" 
                                      HorizontalAlignment="Left"
                                      Click="ExportProject_Click"/>
                                <Button Content="发布管理" 
                                      Style="{StaticResource MaterialDesignFlatButton}" 
                                      HorizontalAlignment="Left"
                                      Click="PublishManagement_Click"/>
                                <Button Content="统计报告" 
                                      Style="{StaticResource MaterialDesignFlatButton}" 
                                      HorizontalAlignment="Left"
                                      Click="StatisticsReport_Click"/>
                            </StackPanel>
                        </Expander>
                    </StackPanel>
                </ScrollViewer>
            </materialDesign:ColorZone>

            <!-- 分隔符 -->
            <GridSplitter Grid.Column="1" 
                          HorizontalAlignment="Stretch" 
                          Background="{DynamicResource MaterialDesignDivider}"/>

            <!-- 右侧内容区域 -->
            <Grid Grid.Column="2" Margin="16" x:Name="MainContentArea">
                <!-- 仪表盘默认内容 -->
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- 欢迎区域 -->
                        <materialDesign:Card Margin="0,0,0,16" Padding="24">
                            <StackPanel>
                                <TextBlock Text="欢迎使用小说管理系统" 
                                         FontSize="28" 
                                         FontWeight="Medium" 
                                         Margin="0,0,0,8"/>
                                <TextBlock Text="基于AI Agent协作的智能小说创作平台" 
                                         FontSize="16" 
                                         Foreground="{DynamicResource MaterialDesignBodyLight}"
                                         Margin="0,0,0,16"/>
                                
                                <!-- 快速操作 -->
                                <TextBlock Text="快速操作" 
                                         FontSize="18" 
                                         FontWeight="Medium" 
                                         Margin="0,0,0,12"/>
                                <WrapPanel>
                                    <Button Style="{StaticResource MaterialDesignRaisedButton}"
                                            Margin="0,0,12,8"
                                            Click="NewProject_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Plus" Margin="0,0,8,0"/>
                                            <TextBlock Text="新建项目"/>
                                        </StackPanel>
                                    </Button>
                                    <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                                            Margin="0,0,12,8"
                                            Click="ImportProject_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Import" Margin="0,0,8,0"/>
                                            <TextBlock Text="导入项目"/>
                                        </StackPanel>
                                    </Button>
                                    <Button Style="{StaticResource MaterialDesignOutlinedButton}"
                                            Margin="0,0,12,8"
                                            Click="AICollaboration_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="Robot" Margin="0,0,8,0"/>
                                            <TextBlock Text="AI协作"/>
                                        </StackPanel>
                                    </Button>
                                </WrapPanel>
                            </StackPanel>
                        </materialDesign:Card>

                        <!-- 项目概览 -->
                        <materialDesign:Card Margin="0,0,0,16" Padding="24">
                            <StackPanel>
                                <TextBlock Text="项目概览"
                                         FontSize="20"
                                         FontWeight="Medium"
                                         Margin="0,0,0,16"/>

                                <!-- 项目卡片 -->
                                <materialDesign:Card Margin="0,0,0,12"
                                                   Padding="16">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <StackPanel Grid.Column="0">
                                            <TextBlock Text="千面劫·宿命轮回"
                                                     FontSize="16"
                                                     FontWeight="Medium"/>
                                            <TextBlock Text="修仙小说 | 创建于 2024-06-03"
                                                     Foreground="{DynamicResource MaterialDesignBodyLight}"
                                                     Margin="0,4,0,8"/>
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:Chip Content="进行中"
                                                                   Background="{DynamicResource PrimaryHueMidBrush}"
                                                                   Foreground="White"
                                                                   Margin="0,0,8,0"/>
                                                <TextBlock Text="总字数: 125,000"
                                                         VerticalAlignment="Center"
                                                         Margin="0,0,16,0"/>
                                                <TextBlock Text="章节: 45"
                                                         VerticalAlignment="Center"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <Button Grid.Column="1"
                                              Style="{StaticResource MaterialDesignFlatButton}"
                                              Content="打开项目"
                                              Click="ProjectOverview_Click"/>
                                    </Grid>
                                </materialDesign:Card>
                            </StackPanel>
                        </materialDesign:Card>

                        <!-- 最近活动 -->
                        <materialDesign:Card Padding="24">
                            <StackPanel>
                                <TextBlock Text="最近活动"
                                         FontSize="20"
                                         FontWeight="Medium"
                                         Margin="0,0,0,16"/>

                                <ItemsControl>
                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <materialDesign:PackIcon Kind="FileDocument"
                                                               VerticalAlignment="Center"
                                                               Margin="0,0,12,0"/>
                                        <TextBlock Text="更新了第45章：天劫降临"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="2小时前"
                                                 Foreground="{DynamicResource MaterialDesignBodyLight}"
                                                 VerticalAlignment="Center"
                                                 Margin="12,0,0,0"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <materialDesign:PackIcon Kind="Account"
                                                               VerticalAlignment="Center"
                                                               Margin="0,0,12,0"/>
                                        <TextBlock Text="添加了新角色：玄天老祖"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="5小时前"
                                                 Foreground="{DynamicResource MaterialDesignBodyLight}"
                                                 VerticalAlignment="Center"
                                                 Margin="12,0,0,0"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                        <materialDesign:PackIcon Kind="Robot"
                                                               VerticalAlignment="Center"
                                                               Margin="0,0,12,0"/>
                                        <TextBlock Text="AI助手完成了剧情一致性检查"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="1天前"
                                                 Foreground="{DynamicResource MaterialDesignBodyLight}"
                                                 VerticalAlignment="Center"
                                                 Margin="12,0,0,0"/>
                                    </StackPanel>
                                </ItemsControl>
                            </StackPanel>
                        </materialDesign:Card>
                    </StackPanel>
                </ScrollViewer>
            </Grid>
        </Grid>

        <!-- 状态栏 -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="CheckCircle" 
                                           Width="16" Height="16" 
                                           VerticalAlignment="Center"
                                           Foreground="Green"
                                           Margin="0,0,4,0"/>
                    <TextBlock Text="就绪"/>
                </StackPanel>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Text="当前项目: 千面劫·宿命轮回"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem>
                <TextBlock Text="版本 1.0.0"/>
            </StatusBarItem>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock Text="2024-06-03 10:30:00"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
